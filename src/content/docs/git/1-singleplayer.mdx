---
title: "Git handbook, rozdzia 1: Kampania jednoosobowa"
description: "Podstawowe, wasne repo z liniow histori"
sidebar:
  label: "R1: Kampania jednoosobowa"
  order: 1
---

import AsciinemaPlayer from "#components/AsciinemaPlayer";
import { Steps, Tabs, TabItem, Card, CardGrid } from "@astrojs/starlight/components";

## A czym tak waciwie ten git jest?

Git to tzw. system kontroli wersji. (Version Control System, VCS)

Pozwala on na ledzenie, jak pliki w repozytorium zmieniay si na przestrzeni czasu, przez r贸偶ne wersje, tworzone przez r贸znych u偶ytkownik贸w.

Uatwia to wsp贸prac - nie trzeba si bawi z wysyaniem zip贸w caego repo, wystarczy zrobi swoje zmiany na swojej gazi i/lub forku,
a nastpnie powiedzie osobie odpowiedzialnej za gown ga藕, by pobraa zmiany z twojej gazi.

## Nowe repozytorium

By m贸c korzysta z gita, nale偶y stworzy lub pobra jakie repozytorium.
Powiedzmy, 偶e zaczynamy nowy projekt i chcemy stworzy dla niego nowe repozytorium.

Do tworzenia nowego repozytorium su偶y komenda [`git init`](https://git-scm.com/docs/git-init).
Je偶eli po komendzie dodamy nazw, to git utworzy nowy katalog o danej nazwie, w kt贸rym powstanie repozytorium.

import newRepo01 from "#assets/git/chapter-1/new-repo-01.cast";

<AsciinemaPlayer src={newRepo01} idleTimeLimit={1} cols={100} rows={25} theme="monokai" >

1. Tworzymy nowe repozytorium - `git init <nazwa>`
2. Przechodzimy do nowo utworzonego katalogu i sprawdzamy status repo - `git status`
3. dziaa 

</AsciinemaPlayer>

A co je偶eli mamy ju偶 jaki projekt, na kt贸rym chcielibymy zacz u偶ywa gita?
By zainicjowa nowe repozytorium gita w istniejcym katalogu, wystarczy do niego przej i wykona komend `git init` bez 偶adnych dodatkowych parametr贸w.

import newRepo02 from "#assets/git/chapter-1/new-repo-02.cast";

<AsciinemaPlayer src={newRepo02} idleTimeLimit={1} cols={100} rows={25} theme="monokai" >

1. Przechodzimy do katalogu z istniejcym projektem
2. Sprawdzamy zawarto projektu - 2 pliki
3. Inicjujemy repozytorium w istniejcym katalogu - `git init`
4. Sprawdzamy status repo - `git status`
5. Sprawdzamy ponownie zawarto katalogu - pojawi si nowy ukryty katalog `.git`

</AsciinemaPlayer>

Zauwa偶my, 偶e po zainicjowaniu repozytorium w katalogu pojawi si nowy ukryty katalog - `.git`.
W nim git przechowuje ca histori repozytorium.
Je偶eli omykowo zainicjowalimy repozytorium, to usunicie tego ukrytego katalogu cofnie inicjalizacj repozytorium.

:::caution
Usunicie katalogu `.git` spowoduje bezpowrotne usunicie caej zapisanej historii repozytorium!
Nie r贸b tego w repozytoriach, kt贸re s wa偶ne i dla kt贸rych nie masz kopii zapasowej!
:::

import newRepo03 from "#assets/git/chapter-1/new-repo-03.cast";

<AsciinemaPlayer src={newRepo03} idleTimeLimit={1} cols={100} rows={25} theme="monokai" >

1. Przechodzimy do katalogu z repozytorium
2. Usuwamy `.git`
3. Sprawdzamy status repo - `git status`
4.  repozytorium is gone 

</AsciinemaPlayer>

## Tworzenie zapis贸w

No dobra, mamy ju偶 repo; co dalej?
Repozytorium gita bez 偶adnych zapis贸w u偶yteczne nie jest, wic utw贸rzmy pierwszy wpis.

By utworzy zapis, trzeba kolejno:

<Steps>

1. Sprawdzi, jakie niezapisane zmiany mamy w repozytorium - komenda `git status`
2. Zastanowi si, kt贸re z nich chcemy zo偶y w nowy zapis.

   Czasami chcemy po prostu wszystko wrzuci w jeden zapis, a innymi czasy chcemy rozdzieli zmiany na kilka zapis贸w.
   Teraz wanie warto sobie to zaplanowa.

3. Doda (aka. przygotowa do zo偶enia) zmiany, kt贸re chcemy zozy w nowy zapis - komenda `git add`.
4. Na koniec wreszcie dokona zapisu - komenda `git commit`.

</Steps>
Je偶eli kto korzysta z integracji gita w swoim ulubionym edytorze, to zapewne wykonuje te same kroki, tylko klikajc przyciski zamiast pisania komend.

import commit01 from "#assets/git/chapter-1/committing-01.cast";

<AsciinemaPlayer src={commit01} idleTimeLimit={1} cols={100} rows={25} theme="monokai" >

1. Sprawdzamy, jakie mamy niezapisane zmiany - `git status`
2. Dodajemy kolejno ka偶dy zmieniony plik - `git add <plik>`
3. Sprawdzamy jeszcze raz status repo - `git status`
4. Dokonujemy zapisu - `git commit`
5. error?????????????

</AsciinemaPlayer>

### Konfiguracja to偶samoci

Je偶eli pierwszy raz korzystasz z gita, nie dokonywa\* 偶adnej wczeniejszej konfiguracji, i pr贸bujesz wykonywa po kolei wiczenia, to zapewnie przy pr贸bie utworzenia zapisu otrzyma\* bd, podobnie jak na nagraniu powy偶ej.

Oznacza on, 偶e git nie mia w swojej konfiguracji twojego imienia/nazwiska/pseudonimu i adresu email.
Git u偶ywa tych danych do przypisywania twoich zapis贸w do ciebie.

To, jakie dane ustawisz zale偶y od tego, w jakich projektach pracujesz i jak preferujesz si w nich podpisywa.
Je偶eli pracujesz g贸wnie nad swoimi osobistymi projektami, to masz pen dowolno -
mo偶esz u偶y swojego imienia i nazwiska, albo nicku;
mo偶esz u偶y swojego g贸wnego adresu email, lub jakiego dodatkowego,
albo nawet adresu typu noreply, przypisanego tobie przez twojego hosta repozytori贸w (np. Github).
Natomiast w projektach su偶bowych zapewne bdziesz u偶ywa imienia i nazwiska oraz su偶bowego adresu email.

Te dane mo偶esz ustawi zar贸wno globalnie (dla wszystkich repozytori贸w), jak i lokalnie (dla wybranego repozytorium).

<Tabs>
  <TabItem label="Ustaw globalnie">

```bash
# wykonaj gdziekolwiek tbh
git config --global user.email "<email>"
git config --global user.name "<nazwa u偶ytkownika/imie/nazwisko/pseudonim>"
```

  </TabItem>
  <TabItem label="Ustaw lokalnie">

```bash
# wykonaj w repozytorium
git config user.email "<email>"
git config user.name "<nazwa u偶ytkownika/imie/nazwisko/pseudonim>"
```

  </TabItem>
</Tabs>

import commit02 from "#assets/git/chapter-1/committing-02.cast";

<AsciinemaPlayer src={commit02} idleTimeLimit={1} cols={100} rows={25} theme="monokai" >

1. Ustawiamy globalnie dane u偶ytkownika
2. Sprawdzamy status repo - zmiany s nadal przygotowane od ostatniego nagrania
3. Dokonujemy zapisu - `git commit`
4. Otwiera si domylny edytor - wpisujemy nazw (i opcjonalnie opis) zmiany,
   zapisujemy, zamykamy
5. Sprawdzamy status repo - brak zmian do zo偶enia
6. Sprawdzamy histori zapis贸w - `git log` - nowy zapis jest widoczny

</AsciinemaPlayer>

## Publikacja zmian

Dokonalimy pierwszego wpisu, jednak jak na razie jest on dostpny tylko na naszym komputerze.
Jak opublikowa repozytorium i nowe wpisy?

Je偶eli jestemy na wie偶o utworzonym repozytorium, najpierw trzeba stworzy jakie miejsce na publikacj -
mo偶e to by repozytorium na dowolnym z host贸w wymienionych (bd藕 nie) na wstpie dokumentacji.
Je偶eli jestemy na repozytorium sklonowanym, to adres, z kt贸rego repozytorium sklonowalimy zostanie automatycznie zapisany jako repozytorium zdalne `origin`.

Je偶eli jest to pierwszy raz, gdy u偶ywasz danego hosta (np. GitHub), trzeba bdzie r贸wnie偶 skonfigurowa wybrany spos贸b dostpu.
Uniwersalnym protokoem do wysyania zmian jest SSH - wystarczy wygenerowa par kluczy SSH (je偶eli jeszcze ich nie mamy) i doda ten publiczny do swojego konta.
Spos贸b dodania wygenerowanego klucza do konta GitHub opisuje [ich dokumentacja](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account#adding-a-new-ssh-key-to-your-account). (tl;dr skopiuj klucz publiczny, wklej w odpowiednim miejscu w ustawieniach konta, done)

W dalszych przykadach zamiast standardowego hosta bd u偶ywa tzw. "bare" repo na tym samym komputerze.
R贸偶nica polega na tym, 偶e zamiast wkleja adres repozytorium, kt贸ry skopiowabym z np. GitHuba, wpisuj po prostu cie偶k do lokalnego "zdalnego" repozytorium.

Do zarzdzania zdalnymi kopiami repozytorium su偶y komenda `git remote`.

- Bez 偶adnych parametr贸w wypisze ona wszystkie skonfigurowane zdalne repozytoria.
- Aby doda nowe, nale偶y u偶y komendy `git remote add <nazwa> <adres>`.
- Komend `git remote get-url <nazwa>` sprawdzimy, jaki adres zdalnego repo kryje si pod dan nazw.
- Komend `git remote set-url <nazwa> <URL>` zmienimy adres danego zdalnego repo, np. gdy chcemy zmieni protok贸 z HTTP na SSH (lub odwrotnie).

Gdy mamy skonfigurowane ju偶 repozytorium zdalne, mo偶emy opublikowa zmiany z aktualnej gazi komend `git push`.

Je偶eli jest to pierwszy raz, gdy publikujemy dan ga藕, to git bdzie chcia troszeczke wicej informacji o tym, gdzie t ga偶 "wypchn".
(chyba 偶e kto ju偶 skonfigurowa gita, by si sam domyli, o co chodzi [to jest literalnie jedna komenda, wywietlana nawet w komunikacie bdu])
Wtedy trzeba u偶y rozwinitej formy tej komendy - `git push --set-upstream <nazwa zdalnego repo> <nazwa zdalnej gazi>`.
Czyli je偶eli dla przykadu chcemy wypchn aktualn ga藕 do repozytorium "origin", na ga藕 o nazwie "feat/epicki-ficzer"
i zapisa t konfiguracj na przyszo, u偶yjemy komendy `git push --set-upstream origin feat/epicki-ficzer`.
Je偶eli nie chcemy zapisywa nowej konfiguracji jako domylnej, wystarczy usun flag `--set-upstream`.

import publish01 from "#assets/git/chapter-1/publishing-01.cast";

<AsciinemaPlayer src={publish01} idleTimeLimit={1} cols={140} rows={40} theme="monokai" >

1. Sprawdzamy skonfigurowane repozytoria zdalne - `git remote` - brak
2. Konfigurujemy nowe repozytorium zdalne "origin" - `git remote add <nazwa> <adres>`
3. Wypychamy zmiany do repozytorium zdalnego - `git push`
4. Sprawdzamy `git log` - zdalna ga藕 jest widoczna jako "origin/master"

</AsciinemaPlayer>

## Troch wicej o opisach zapis贸w/commit贸w

Opis zapisu skada si z kilku czci:

- Pierwsza linijka, czyli nazwa, kr贸tki opis, czy jakkolwiek inaczej kto to chce nazywa - w edytorach, hostach repozytor贸w, czy w wyjciu z `git log` jest zawsze wywietlana.
  Jej dugo jest ograniczona, co dobre edytory powinny wymusza - przekroczenie pewnej dugoci powoduje czsto jej skracanie i ukrywanie reszty.
  Powinna ona w skr贸cie opisywa wszystkie zmiany dokonane w zapisie.
- Dalszy, opcjonalny opis, oddzielony od pierwszej linijki pust linijk.
  Tutaj mo偶na si dokadniej rozpisa na temat dokonanych zmian, r贸偶nych zawioci wybranych rozwiza lub zawrze swoje inne filozoficzne przemylenia.
  Graficzne interfejsy do gita oraz `git log --oneline` zazwyczaj ukryj t cz za jakim przyciskiem lub najechaniem kursorem.
- Tzw. "trailery", w stylu header贸w email lub HTTP.
  To, jakie trailery s wspierane zale偶y g贸wnie od hosta repo i innego oprogramowania.
  Przykadem jest `Co-authored-by: autor <mail-autora@example.org>`, kt贸ry su偶y do oznaczania wsp贸autor贸w zapisu.
  Zazwyczaj wstawia je si po opisie, zostawiajc jedn pust linijk.

R贸偶ne organizacje, projekty i autorzy maj r贸偶ne opinie na temat stylu opis贸w. Styl u偶ywany w Solvro zosta opisany [w handbooku dla GitHuba](./Github.md#nazewnictwo-commit贸w).

import commit03 from "#assets/git/chapter-1/committing-03.cast";

<AsciinemaPlayer src={commit03} idleTimeLimit={1} cols={100} rows={25} theme="monokai" >

1. Dokonujemy jakie zmiany w repozytorium
2. Przygotowujemy wybrane zmiany do zo偶enia
3. Dokonujemy zapisu i opisujemy zmiany:
4. Dodajemy kr贸tki opis
5. Tworzymy du偶szy, szczeg贸owy opis zmian
6. Oznaczamy Linusa Torvaldsa jako wsp贸autora zmiany
7. Wysyamy zmiany do zdalnego repo
8. Sprawdzamy `git log` - wida cay opis zmian
9. Sprawdzamy `git log --oneline` - wida tylko pierwsz linijk

</AsciinemaPlayer>
