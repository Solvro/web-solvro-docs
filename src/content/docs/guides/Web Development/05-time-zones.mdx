---
title: Strefy czasowe
description: Poradnik w świecie web developmentu, jak zacząć i żyć?
---
import { Steps } from '@astrojs/starlight/components';

Strefy czasowe to też spory temat, więc postanowiłem zrobić dla nich osobny rodział. Aby używać `date-fns` dla stref czasowych potrzebujemy specjalnego pakietu o nazwie `date-fns-tz`.

<Steps>

1. Dodaj dodatkowy pakiet

   ```sh
   npm i date-fns date-fns-tz
   ```

</Steps>

## Wyświetlanie daty w konkretnej strefie czasowej

Użyj funkcji `formatInTimeZone` z biblioteki `date-fns-tz`.

```jsx
import { formatInTimeZone } from 'date-fns-tz';

export default function HomePage() {
  const now = new Date();
  const timeZone = 'Europe/Warsaw';

  const formattedDate = formatInTimeZone(now, timeZone, 'yyyy-MM-dd HH:mm:ss XXX'); // Aktualny czas w Warszawie: 2024-11-27 14:30:00 +01:00

  return (
    <h1>Aktualny czas w Warszawie: {formattedDate}</h1>
  );
}
```

## Przekształcenie daty z jednej strefy czasowej na inną

Użyj funkcji `utcToZonedTime` i `format` z `date-fns` oraz `date-fns-tz`.

```jsx
import { utcToZonedTime, format } from 'date-fns-tz';

export default function HomePage() {
  const utcDate = new Date('2024-11-27T12:00:00Z'); // Data w UTC
  const timeZone = 'America/New_York';

  // Konwersja na strefę czasową
  const zonedDate = utcToZonedTime(utcDate, timeZone);

  // Formatowanie daty w strefie czasowej
  const formattedDate = format(zonedDate, 'yyyy-MM-dd HH:mm:ss XXX', { timeZone }); // Czas w Nowym Jorku: 2024-11-27 07:00:00 -05:00

  return (
    <h1>Czas w Nowym Jorku: {formattedDate}</h1>
  );
}
```

## Obliczanie różnicy czasu między strefami

Możesz obliczyć różnicę w godzinach między dwiema strefami czasowymi, używając kombinacji `utcToZonedTime` i zwykłego obliczenia różnicy dat.

```jsx
import { utcToZonedTime, differenceInHours } from 'date-fns-tz';

export default function HomePage() {
  const now = new Date();
  const timeZone1 = 'Europe/Warsaw';
  const timeZone2 = 'Asia/Tokyo';

  const timeInWarsaw = utcToZonedTime(now, timeZone1);
  const timeInTokyo = utcToZonedTime(now, timeZone2);

  const hourDifference = differenceInHours(timeInTokyo, timeInWarsaw); // Różnica czasu między Warszawą a Tokio: 8 godzin

  return (
    <h1>Różnica czasu między Warszawą a Tokio: {hourDifference} godzin</h1>
  );
}
```
