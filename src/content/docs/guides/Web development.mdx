---
title: Handbook Web Developera
description: Poradnik w wiecie web developmentu, jak zacz i偶y?
---
import { Tabs, TabItem, Steps, FileTree } from '@astrojs/starlight/components';

## rodowisko

### WSL

Za u偶ywanie Windowsa do programowania jest wyrzucenie z koa, ka偶dy obowizkowo ma u偶ywaco najmniej WSLa, a zalecany jest dual boot do Linuxa (rekomenduje ubuntu, bo proste)

- Tutorial dla opornych
  [https://www.youtube.com/watch?v=-atblwgc63E](https://www.youtube.com/watch?v=-atblwgc63E)

### Edytor

U偶ywajcie VSCode, inne edytory na wasnodpowiedzialno

OBOWIZKOWE wtyczki:

- [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) - musicie go skonfigurowa do formatowania przy zapisie i jako domylny formater
  [https://www.youtube.com/watch?v=drtxWx1XojI](https://www.youtube.com/watch?v=drtxWx1XojI)
- [Eslint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint) - bdzie krzycza na was jak co藕le zrobicie, tutaj wystarczy tylko klikn install

Polecane wtyczki:

- Tailwind CSS IntelliSense - podpowiedzi gdy piszecie klasy w tailwind, must have
- Better Comments - adne komentarze
- Error Lens - od razu wam poka偶e bdy, nie trzeba myszk naje偶d偶a
- Github Copilot - no chyba wiecie
- GitLens - adny git blame w vscode

## Struktura plik贸w

U偶ywamy tej z [bulletproof-react](https://github.com/alan2207/bulletproof-react/blob/master/docs/project-structure.md), ale lekko przerobionej pod nasze potrzeby. Na start aplikacji polecam pomin folder `features` i wszystko robi toplevel i dopiero p贸藕niej podzieli na featury.

<FileTree>

- next.config.ts
- tailwind.config.ts
- package.json
- src
  - app # tutaj s nasze wszystkie strony
    - layout.tsx
    - page.tsx
    - blog
      - [slug]
        - page.tsx
    - kontakt
      - page.tsx
  - assets # zdjcia, czcionki i inne rzeczy
    - fajne_foto.webp
  - components # komponenty u偶ywane w caej aplikacji
    - FirstComponent.tsx
    - SecondComponent.tsx
  - features/ # moduy podzielone na feature'y
  - hooks # hooki u偶ywane w caej aplikacji
    - useAuth.tsx
    - usePlan.tsx
  - test/ # utilites do test贸w + mocki
  - types/ # typy u偶ywane w caej aplikacji
  - utils # funkcje u偶ywane w caej aplikacji
    - db.ts
    - lib.ts

</FileTree>

Ka偶dy feature ma takstruktur:

<FileTree>

- src/features/awesome-feature
  - api/ # exported API request declarations and api hooks related to a specific feature
  - assets/ # static files
  - components/ # components scoped to a specific feature
  - hooks/ # hooks scoped to a specific feature
  - atoms/ # atomy u偶ywane w konkretnym featuerze
  - types/ # typescript types used within the feature
  - utils/ # utility functions for a specific feature

</FileTree>

## Assumptions

Wszystko w programowaniu ma swoje mocne i saby strony i wszystko zale偶y od tego co chcemy osign, ten poradnik jest zoptymalizowany pod (w kolejnoci od najwa偶niejszego):

1. Szybko developmentu - pisanie kodu powinno by jak najprostsze i jak najszybsze, jestemy koem naukowym, ka偶dy robi tutaj po godzinach i nie mamy bud偶etu na marnowanie czasu na zbdne rzeczy
2. Nowoczesno - jak ju偶 robimy co za darmo, to miejmy z tego frajde, nie wiem jak wy, ja bym nie chcia pisa w angularze 
3. Uniwersalno - nie ma tutaj specjalistycznych rzeczy, staraem si, 偶eby jak najbardziej dao siprzenosi wiedz midzy apkami

Pod co nie jest zrobiony ten guide:

1. Dugowieczno - wikszo bibliotek tutaj u偶ywanych potrafi bardzo szybko sizmienia (patrz nextjs) i projekty, kt贸re nie bddotykane przez rok bdzie mo偶na ju偶 nazywa legacy, aka [staocieplny software](https://blog.jim-nielsen.com/2024/cold-blooded-software/)
2. Learning curve - technologie takie jak React, NextJS s stosunkowo trudne do nauczania sidla osoby, kt贸ra nic nie wie, tutaj o wiele lepiej by sisprawdzi czysty html i js

## Technologie

### Typescript

Nie widz powod贸w, 偶eby nie u偶ywa Typescripta:

- Ma niski pr贸g wejcia
- OLBRZYMIA warto dla programisty
- U偶ywany przez p贸 wiata

### shadcn/ui

Komponenty, kt贸re z miejsca s adne, customizowalne i na dodatek multum ludzi ich u偶ywa.

### React

Najpopularniejsza obecnie biblioteka (kt贸ra dziaa jak framework) do tworzenia UI, klasyczek.

### Reszta:

- NextJS

- React Hook Form

- shadcn/ui

- Tanstack Query

- Jotai

- TailwindCSS

## Accessibility

### Opisy obrazk贸w

Dobr praktyk jest umieszczanie kr贸tkiego opisu obrazka poza samym src obrazka. Su偶y to czytnikom ekran贸w, z kt贸ry korzystaj, np. niewidomi oraz pomaga w SEO w Google i innych wyszukiwarkach. Sprawa jest bardzo prosta:

```jsx {8}
// app/page.tsx
import Image from 'next/image'

export function MyComponent() {
  return (
    <Image
      src="/next.svg"
      alt="Next.js logo" // Kr贸tki opis grafiki
    />
  )
}
```

### Przyciski jako linki

Za wsadzanie linka w przycisk bd kara tygodniow chost, to nie jest poprawny html, sam react krzyczy, 偶e nie mo偶na tak robi i czytniki ekran贸w si popierdol jak spr贸buj to przeczyta

Jak zrobi Link, kt贸ry wyglda jak przycisk: 
```jsx
// app/page.tsx
import Link from "next/link"
import { Button } from "@/components/ui/button"
 
export function ButtonAsChild() {
  return (
    <Button asChild>
      <Link href="/login">Login</Link>
    </Button>
  )
}
```

:::tip
Jeli kto pragnie doedukowa si bardziej szczeg贸owo w temacie "Accessibility" zachcam do obczajenia [dokumentacji React'a](https://legacy.reactjs.org/docs/accessibility.html), ale to tylko dla zaprawionych w boju w ramach ciekawostki.
:::

## Best practices

### Jak zrobiadne UI?

Wbrew przekonaniom, sprawa jest prosta:

1. Znajd藕stron, kt贸rej design Ci si podoba i pasuje do Twojego projektu, np. robisz apke z map? google maps
2. Skopiuj design 1:1, upro i przer贸b go na komponenty shadcn
3. Gotowe, ciesz siadnym designem

W UI/UX nie ma miejsca na kreatywno i jeli sami spr贸bujecie stworzy wasny design na 99% skoczycie z czym dziwnym czego u偶ytkownicy nie chc u偶ywa. Jak tylko mo偶ecie kradnijcie designy i dostosowujcie do swoich potrzeb, u偶ytkownicy chc u偶ywa stron, kt贸re ju偶 znaj i nie da siesprawi by nie znali waszej stronjeli wyglda tak samo jak instagram 

Poza tym, nie pisz wasnych komponent贸w jeli nie masz BARDZO dobrego powodu, te z shadcna sbardzo adne i jak tylko mo偶esz u偶ywaj ich 1:1, wtedy na pewno nie zbdzisz.

- Jak chcesz wiedziewicej na ten temat zapraszam do poczytania Refactoring UI, ksi偶ka tw贸rc贸w tailwinda, poradnik o designie dla programist贸w (wymagany dostp do dysku)
  [https://drive.google.com/file/d/1zbsgxcK-xREkmFV7D6Z1lHZwOn4k04w-/view?usp=drive_link](https://drive.google.com/file/d/1zbsgxcK-xREkmFV7D6Z1lHZwOn4k04w-/view?usp=drive_link)

### Pobieranie danych z API

Tutaj mamy dwie cie偶ki:

1. React Server Components

   React Server Components (RSC) to domylne podejcie w Next.js 14+. Dziki nim dane s pobierane po stronie serwera, co eliminuje konieczno zarzdzania stanami adowania i zapewnia szybsze adowanie stron. Zaletami jest automatyczne renderowanie danych na serwerze, brak koniecznoci zarzdzania stanami adowania i s proste w u偶yciu.

    ```jsx {5-6}
    // app/products/page.tsx

    export default async function ProductsPage() {
      // Pobieranie danych z API po stronie serwera
      const data = await fetch('https://api.example.com/data');
      const products = await data.json();

      return (
        <div>
          <h1>Produkty</h1>
          <ul>
            {products.map((product) => (
              <li key={product.id}>
                {product.name} - {product.price} PLN
              </li>
            ))}
          </ul>
        </div>
      );
    }
    ```

2. Tanstack Query

   Tego u偶ywamy gdy chcemy mie wiksz kontrol nad tym co sidzieje w naszej aplikacji, potrzebujemy odwie偶aczsto dane albo na przykad mamy jak skomplikowan logik po stronie klienta (typu u偶ytkownik najpierw wybiera jak zakadk i dopiero wtedy pobieramy coz api albo jakikolwiek case z bardziej zaawansowanym filtrowaniem)

    <Tabs>
      <TabItem label="Zewntrzne API">
        ```jsx {2, 10-12}
        // app/products/page.tsx
        "use client"

        import { useQuery } from '@tanstack/react-query';

        export default function ProductsList() {
          const { data: products, isLoading, error, refetch } = useQuery({
            queryKey: ['products'],
            queryFn: async () => {
              const data = await fetch('https://api.example.com/data');
              const products = await data.json();
              return products
            },
          })

          if (isLoading) return <p>adowanie danych...</p>;
          if (error) return <p>Wystpi bd podczas pobierania danych.</p>;

          return (
            <ul>
              {products.map((product) => (
                <li key={product.id}>
                  {product.name} - {product.price} PLN
                </li>
              ))}
            </ul>
          );
        }
        ```
      </TabItem>
      <TabItem label="Server Actions (NextJS)">
        ```ts {2, 11}
        // actions/products.ts
        "use server"

        import { db } from '@/lib/db';
        /** 
        * PAMITAJCIE, 偶e tego typu akcje serwerowe s automatycznie generowanymi
        * endpointami API, wic ka偶dy mo偶e przy odrobinie umiejtnoci wykona swoje rzdanie do tej funkcji.
        * Trzeba zawsze zabezpieczy tak funkcj, jeli robimy rzeczy tylko dla zalogowanych u偶ytkownik贸w, np zmiana nazwy.
        */
        export async function fetchProducts() {
          return await db.products.findMany(); // Przykad z baz danych
        }
        ```

        ```jsx {2, 10}
        // app/products/page.tsx
        "use client"

        import { useQuery } from '@tanstack/react-query';
        import { fetchProducts } from '@/actions/products.ts';

        export default function ProductsList() {
          const { data: products, isLoading, error, refetch } = useQuery({
            queryKey: ['products'],
            queryFn: fetchProducts,
          })

          if (isLoading) return <p>adowanie danych...</p>;
          if (error) return <p>Wystpi bd podczas pobierania danych.</p>;

          return (
            <ul>
              {products.map((product) => (
                <li key={product.id}>
                  {product.name} - {product.price} PLN
                </li>
              ))}
            </ul>
          );
        }
        ```
      </TabItem>
    </Tabs>

    


Do pobierania danych te偶 potrzeba klienta API i tutaj mam zachcam do korzystania z natywnego `fetch` , a za u偶ywanie `axios`a bez powodu bd ucina pensje, jest bardzo mao powod贸w do u偶ywania axiosa w 2024 roku.

### Wysyanie danych do API

Tutaj jestem opinionated i wedug mnie jedynym susznym wyborem jest Tanstack Query i jego mutacje, nie pr贸bujcie tego robi inaczej, bo bdziecie sobie plu w brod (albo ja wam)

### Zarzdzanie stanem

Do globalnego stanu u偶ywamy [Jotai](https://jotai.org/), a do lokalnego useState/useReducer jak serio to jest coskomplikowanego

Nigdy Context API, chyba, 偶e macie BARDZO dobry pow贸d

### Formularze

Zapraszam do dokumentacji shadcna, tam wikszo jest dobrze opisana:

[https://ui.shadcn.com/docs/components/form](https://ui.shadcn.com/docs/components/form)

### Autentykacja

Nie mielimy jeszcze za du偶o projekt贸w, kt贸re by wymagay autentykacji, ale tutaj raczej zalecam i w klasyk i klepn to w [AuthJS](https://authjs.dev/). Jest to rozwijany od lat produkt, kt贸ry mo偶na 
w atwy spos贸b zintegrowa z projektem w NextJS. Zawiera du偶y funkcji, takich jak logowanie OAuth2 czy magicznymi linkami, sesje bazujce na bazie danych lub tokenach JWT czy automatyczn ochron przed CSRF.
Ma dobrze rozwinit spoeczno i dokumentacj oraz mas tutoriali na YouTubie.

Dodatkowo w ramach ciekawostki podrzucam Wam projekt dziaajcy pod nazw [BetterAuth](https://www.better-auth.com/). 
Jest to stosunkowo nowy projekt, kt贸ry w wersj stabiln wszed w listopadzie 2024 roku, aczkolwiek jest dobrze przemylany i aktywnie rozwijany.
Zalety tego projektu to midzy innymi, jeszcze atwiejsza instalacja ni偶 AuthJS czy rozwizanie pluginowe, np. jeli potrzebujecie u偶y Passkeys to dodajecie taki plugin do configu.
Do tego bardzo prosta dokumentacja. Polecam si zabawi.

Jeli robicie to DIY, to pewnie bdziecie musieli sobie odpowiedzie na pytanie gdzie trzyma tokeny i tutaj s dwie opcje:

- LocalStorage - protsza opcja, ale mniej bezpieczna i bardziej podatna na ataki XSS
- Cookies HttpOnly - bardziej bezpieczna opcja, ale trudniejsza w implementacji, 藕le zaimplementowane mo偶e prowadzi do atak贸w CSRF

Na potrzeby Solvro cokolwiek wybierzecie bdzie dobrze, a jeli kogo temat bardziej interesuje to tutaj mo偶na sobie poczyta:

- https://tkacz.pro/how-to-securely-store-jwt-tokens
- https://stackoverflow.com/questions/27067251/where-to-store-jwt-in-browser-how-to-protect-against-csrf

### Landing page

Jeli jeszcze raz ktozmarnuje czas na robienie wasnego landing pagea to go udusz, tutaj macie dwie templatki i prosz z nich zrzyna:

- [https://shadcn-landing-page.vercel.app](https://shadcn-landing-page.vercel.app/)
- [https://shadcn-landing-page-livid.vercel.app](https://shadcn-landing-page-livid.vercel.app/)

### Analityka

Do analityki mamy postawione [Umami](https://umami.is/) na [https://analytics.solvro.pl](https://analytics.solvro.pl), jak chcecie dostp to uderzajcie do Zarzdu.

### WYSIWYG

Strasznie nie lubitego tematu, bo tu jest milion wybor贸w i milion + 1 zych, obecnie rekomenduje:

[https://shadcn-minimal-tiptap.vercel.app/](https://shadcn-minimal-tiptap.vercel.app/)

### Tabelki

Do tworzenia bardziej zaawansowanych tabelek polecam [https://tanstack.com/table/latest](https://tanstack.com/table/latest). Jest do skomplikowany i ma wysoki pr贸g wejcia, ale pozwoli wam na wszystko co sobie wymylicie.

Jako przykad polecam DataTable z shadcn'a:
[https://ui.shadcn.com/docs/components/data-table](https://ui.shadcn.com/docs/components/data-table)

Jeli tabelka ma wicej ni偶 1000 wierszy to jest moment, 偶eby przenie logik filtrowania, paginacji i sortowania na backend, frontend przy takich ilociach powoli mo偶e zaczzamula. Przy 10k+ iloci wierszy to jest must-have.

### Deployment

Tutaj zapraszam do korzystania z naszego coolifya pod adresem [https://devops.solvro.pl/](https://devops.solvro.pl/), jak kto chce dostpy to pisa do Zarzdu, raczej ka偶dy dostaje 

### a11y

Za wsadzanie linka w przycisk bdkara tygodniow chost, to nie jest poprawny html, sam react krzyczy, 偶e nie mo偶na tak robi i czytniki ekran贸w sipopierdol jak spr贸buj to przeczyta

Jak zrobi Link, kt贸ry wyglda jak przycisk: [https://ui.shadcn.com/docs/components/button#as-child](https://ui.shadcn.com/docs/components/button#as-child)

## Daty

Uff, to jest ci偶ki temat. Ka偶dy kiedy zetknie si z datami (lub ju偶 si zetkn) i bez odpowiednich narzdzi potrafi to by czasem droga przez mk. Te wszystkie strefy czasowe, wywietlanie w r贸偶nych formatach, por贸wnywanie itd. 

Nasz naczelny 呕elownik Bartu podrzuci libk o nazwie **date-fns**. Popieram go caym serduszkiem i dziki niej mam nadzij sprawi, 偶e to daty bd bay si Was a nie na odwr贸t.

:::tip
Jeli szukasz jakie literki wykorzysta do osignicia zamierzonego efektu w formatowaniu, zapraszam do rozdziau ni偶ej pt. "Dziwne literki do formatowania"
:::

### Basic usage

<Steps>

1. Dodaj libke

   ```sh
   npm i date-fns
   ```

2. Zaimportuj funkcj `format` z libki:

   ```jsx
   import { format } from 'date-fns';
   ```

3. U偶ywaj jako `format(data, formater)`.

</Steps>

### Formatowanie daty

U偶ycie funkcji `format` do sformatowania daty w czytelny spos贸b.

```jsx
import { format } from 'date-fns';

export default function HomePage() {
  const today = new Date(); // 27 listopada 2024
  const formattedDate = format(today, 'dd/MM/yyyy'); // np. 27/11/2024

  return (
    <h1>Dzisiejsza data: {formattedDate}</h1>
  );
}
```

### Dodawanie dni do daty

U偶ycie funkcji `addDays`, aby obliczy przysze daty.

```jsx
import { addDays, format } from 'date-fns';

export default function HomePage() {
  const today = new Date(); // 27 listopada 2024
  const futureDate = addDays(today, 7); // Data za 7 dni
  const formattedFutureDate = format(futureDate, 'dd MMMM yyyy'); // np. 04 grudnia 2024

  return (
    <h1>Data za tydzie: {formattedFutureDate}</h1>
  );
}
```

### Por贸wnywanie dat

Sprawdzanie, czy jedna data jest przed lub po innej.

```jsx
import { isBefore, isAfter } from 'date-fns';

export default function HomePage() {
  const today = new Date(); // 27 listopada 2024
  const eventDate = new Date(2024, 11, 31); // 31 grudnia 2024

  const isEventInFuture = isAfter(eventDate, today);

  return (
    <div>
      <h1>{isEventInFuture ? 'Wydarzenie jest w przyszoci!' : 'Wydarzenie ju偶 si odbyo.'}</h1>
    </div>
  );
}
```

### Lokalizacja dat

Formatowanie daty w jzyku np. Angielskim za pomoc opcji `locale`.

```jsx
import { format } from 'date-fns';
import { en } from 'date-fns/locale';

export default function HomePage() {
  const today = new Date(); // 27 listopada 2024
  const formattedDate = format(today, 'EEEE, d MMMM yyyy', { locale: en }); // np. roda, 27 listopada 2024

  return (
    <h1>Dzisiejsza data: {formattedDate}</h1>
  );
}
```

### Obliczanie r贸偶nicy midzy datami

U偶ycie `differenceInDays` do obliczenia liczby dni midzy dwiema datami.

```jsx
import { differenceInDays } from 'date-fns';

export default function HomePage() {
  const today = new Date(); // 27 listopada 2024
  const newYear = new Date(2025, 0, 1); // 1 stycznia 2025

  const daysUntilNewYear = differenceInDays(newYear, today);

  return ( 
    <h1>Do Nowego Roku zostao: {daysUntilNewYear} dni</h1> 
  );
}
```

### Wywietlanie upywu czasu

Wywietlanie, ile czasu upyno od podanej daty za pomoc `formatDistance`, np. `10 sekund temu`.

```jsx
import { formatDistance } from 'date-fns';
import { pl } from 'date-fns/locale';

export default function HomePage() {
  const eventDate = new Date(2024, 10, 1); // 1 listopada 2024
  const today = new Date();

  const timePassed = formatDistance(eventDate, today, { addSuffix: true, locale: pl });

  return (
    <h1>Wydarzenie miao miejsce {timePassed}.</h1>
  );
}
```

### Dziwne literki do formatowania

Do formatowania dat u偶ywamy literek. Ka偶da znaczy co innego. Wa偶ne jest r贸wnie偶, czy jest du偶a czy maa. Szybka cigawka z najpotrzebniejszymi robaczkami.

| Litera | Opis                                   | Przykad (dla `2024-11-27 04:07:09`) |
|--------|----------------------------------------|--------------------------------------|
| **d**  | Dzie miesica (bez zera na pocztku) | `27`                                |
| **dd** | Dzie miesica (z zerem na pocztku)  | `27`                                |
| **E**  | Skr贸cony dzie tygodnia               | `Wed`                               |
| **EEEE**| Pena nazwa dnia tygodnia            | `Wednesday`                         |
| **M**  | Miesic (bez zera na pocztku)        | `11`                                |
| **MM** | Miesic (z zerem na pocztku)         | `11`                                |
| **MMM**| Skr贸cona nazwa miesica               | `Nov`                               |
| **MMMM**| Pena nazwa miesica                 | `November`                          |
| **yy** | Ostatnie dwie cyfry roku              | `24`                                |
| **yyyy**| Peny rok                            | `2024`                              |
| **H**  | Godzina w formacie 24-godzinnym       | `14`                                |
| **HH** | Godzina w formacie 24-godzinnym (z zerem) | `14`                            |
| **h**  | Godzina w formacie 12-godzinnym       | `2`                                 |
| **hh** | Godzina w formacie 12-godzinnym (z zerem) | `02`                             |
| **a**  | AM/PM                                 | `PM`                                |
| **m**  | Minuty (bez zera na pocztku)         | `7`                                 |
| **mm** | Minuty (z zerem na pocztku)          | `07`                                |
| **s**  | Sekundy (bez zera na pocztku)        | `9`                                 |
| **ss** | Sekundy (z zerem na pocztku)         | `09`                                |
| **XXX**| Strefa czasowa z dwukropkiem          | `+01:00`                            |
| **x**  | Czas w milisekundach od UNIX Epoch    | `1732610829000`                     |

:::note
Do peej dokumentacji o formatowaniu i literkach mog odesa pod [tym linkiem](https://date-fns.org/v4.1.0/docs/format)
:::

Robaczki mo偶na dowolnie czy. Kilka przykad贸w:

```jsx
const date = new Date();
const formatted = format(date, 'EEEE, d MMMM yyyy', { locale: pl }); 
console.log(formatted); // roda, 27 listopada 2024
```

```jsx
const formatted = format(new Date(), 'dd.MM.yyyy HH:mm:ss');
console.log(formatted); // 27.11.2024 14:07:09
```

```jsx
const formatted = format(new Date(), 'hh:mm a');
console.log(formatted); // 02:07 PM
```

## Strefy czasowe

Strefy czasowe to te偶 spory temat, wic postanowiem zrobi dla nich osobny rodzia. Aby u偶ywa `date-fns` dla stref czasowych potrzebujemy specjalnego pakietu o nazwie `date-fns-tz`.

### Get started

<Steps>

1. Dodaj dodatkowy pakiet

   ```sh
   npm i date-fns date-fns-tz
   ```

</Steps>

### Wywietlanie daty w konkretnej strefie czasowej

U偶yj funkcji `formatInTimeZone` z biblioteki `date-fns-tz`.

```jsx
import { formatInTimeZone } from 'date-fns-tz';

export default function HomePage() {
  const now = new Date();
  const timeZone = 'Europe/Warsaw';

  const formattedDate = formatInTimeZone(now, timeZone, 'yyyy-MM-dd HH:mm:ss XXX'); // Aktualny czas w Warszawie: 2024-11-27 14:30:00 +01:00

  return (
    <h1>Aktualny czas w Warszawie: {formattedDate}</h1>
  );
}
```

### Przeksztacenie daty z jednej strefy czasowej na inn

U偶yj funkcji `utcToZonedTime` i `format` z `date-fns` oraz `date-fns-tz`.

```jsx
import { utcToZonedTime, format } from 'date-fns-tz';

export default function HomePage() {
  const utcDate = new Date('2024-11-27T12:00:00Z'); // Data w UTC
  const timeZone = 'America/New_York';

  // Konwersja na stref czasow
  const zonedDate = utcToZonedTime(utcDate, timeZone);

  // Formatowanie daty w strefie czasowej
  const formattedDate = format(zonedDate, 'yyyy-MM-dd HH:mm:ss XXX', { timeZone }); // Czas w Nowym Jorku: 2024-11-27 07:00:00 -05:00

  return (
    <h1>Czas w Nowym Jorku: {formattedDate}</h1>
  );
}
```

### Obliczanie r贸偶nicy czasu midzy strefami

Mo偶esz obliczy r贸偶nic w godzinach midzy dwiema strefami czasowymi, u偶ywajc kombinacji `utcToZonedTime` i zwykego obliczenia r贸偶nicy dat.

```jsx
import { utcToZonedTime, differenceInHours } from 'date-fns-tz';

export default function HomePage() {
  const now = new Date();
  const timeZone1 = 'Europe/Warsaw';
  const timeZone2 = 'Asia/Tokyo';

  const timeInWarsaw = utcToZonedTime(now, timeZone1);
  const timeInTokyo = utcToZonedTime(now, timeZone2);

  const hourDifference = differenceInHours(timeInTokyo, timeInWarsaw); // R贸偶nica czasu midzy Warszaw a Tokio: 8 godzin

  return (
    <h1>R贸偶nica czasu midzy Warszaw a Tokio: {hourDifference} godzin</h1>
  );
}
```




## Checklista przed wypuszczeniem aplikacji

<Steps>

1. **Czy masz favicon:**
   
   W **Next.JS** wystarczy podmieni default plik `favicon.ico` na sw贸j.

2. **Czy masz ustawiony title, description i inne metadata na ka偶dej stronie?**

    Szczeg贸owa dokumentacja Next.JS znajduje si [tutaj](https://nextjs.org/docs/app/building-your-application/optimizing/metadata). Szybki przykad:

    ```jsx
    // app/layout.tsx
    export const metadata: Metadata = {
      title: 'Tw贸j tytu',
      description: 'I jaki fajny opis',
      keywords: [ 'Next.js', 'Tag 2', 'Tag 3' ],
      openGraph: {...},
    };
    ```

    :::caution
    Ustawianie metadaty mo偶na wykona tylko w komponencie serwerowym, tj. nie w plikach z `"use client"`
    :::

3. **Czy masz wpit analityk i eventy?**

    Korzystajc z Umami lub innej analityki, dodajc j za pomoc specjalnych bibliotek dostarczanych od danej analityki lub poprzez tag `<Script />` z `next/script`.

</Steps>

## Czste bdy

### U偶ywanie useEffect tam gdzie nie trzeba

useEffect su偶y do synchronizowania stanu z zewntrznym systemem (ref. dokumentacja reacta), jeli w useEffecie nie macie odwoania do zewntrznego systemu (localStorage, api serwera, inne api przegldarki) to znaczy, 偶e go 藕le u偶ylicie, przykadowy zy kod:

```jsx
function handleMuscleClick(muscle: string) {
  setSelectedMuscles((prevSelectedMuscles) => {
    if (prevSelectedMuscles.includes(muscle)) {
      return prevSelectedMuscles.filter((m) => m !== muscle);
    } else {
      return [...prevSelectedMuscles, muscle];
    }
  });
}

useEffect(() => {
  table.getColumn("targetMuscle")?.setFilterValue(selectedMuscles);
}, [selectedMuscles, table]);
```

Tutaj synchronizujemy `selectedMuscles` z filtrowana wartocia z tabelce, tabelka 偶yje w wiecie reacta i nie jest zewntrznym systemem i r贸wnie dobrze mo偶emy to zrobi w ten spos贸b:

```jsx
function handleMuscleClick(muscle: string) {
  const newSelectedMuscles = selectedMuscles.includes(muscle)
    ? prevSelectedMuscles.filter((m) => m !== muscle)
    : [...prevSelectedMuscles, muscle];

  table.getColumn("targetMuscle")?.setFilterValue(newSelectedMuscles);
  setSelectedMuscles(newSelectedMuscles);
}
```

Teraz jest bardzo jasne, 偶e po klikniciu na misie, zostaje te偶 zupdateowana tabelka.

Ten przykad jeszcze nie jest taki zy, przy 1 useEffectcie do atwo sipoapa co si dzieje, przy 11 robi siju偶 kopot i raz u mnie w pracy przez cotakiego pada produkcja 

### Nieu偶ywanie lub nadu偶ywanie `useMemo`

Hook `useMemo` pozwala na zapamitanie wyniku funkcji obliczeniowej midzy renderami komponentu, co mo偶e pom贸c w optymalizacji wydajnoci aplikacji. Jest u偶ywany g贸wnie w przypadku "drogich" oblicze (obliczenia, kt贸re swoj zo偶onoci maj istotny wpyw na wydajno), kt贸re nie musz by wykonywane na nowo przy ka偶dym renderze.

Skadnia:
```jsx
const memoizedValue = useMemo(() => computeValue(a, b), [a, b]);
```
- **computeValue**: Funkcja zwracajca wynik oblicze.
- **[a, b]**: useMemo ponownie obliczy warto tylko wtedy, gdy jedna z zale偶noci w tej tablicy si zmieni.

#### Kiedy u偶ywa `useMemo`?

- Przy "kosztownych" obliczeniach, takich jak zo偶one przeksztacenia du偶ych iloci danych.
- Kiedy wynik oblicze jest wielokrotnie u偶ywany w danym renderze (np. w innych hookach).
- Przy obliczeniach, kt贸re zale偶 od dynamicznie zmieniajcych si danych.

#### Kiedy nie u偶ywa `useMemo`?

- Jeli obliczenia s szybkie i nie maj zauwa偶alnego wpywu na wydajno.
- Gdy dodanie useMemo bardziej komplikuje kod ni偶 przynosi korzyci.
- Gdy zale偶noci czsto si zmieniaj, co mo偶e prowadzi do czstych ponownych oblicze.

:::tip
Nie nale偶y go u偶ywa na si. Najpierw upewnij si, 偶e istnieje faktyczny problem z wydajnoci, zanim go zastosujesz.
:::

## FAQ

- Co to Server Components i po co ich u偶ywa?

  RSC (React Server Components) to komponenty, kt贸rych kodzik jest wykonywany WYCZNIE po stronie serwera i ani gram javascriptu nie idzie do przegldarki, to sobecnie domylne komponenty w Nextjs 13-15. Uatwiajpobieranie danych z serwera, bo nie trzeba np. wywietla stanu loadingu, od razu otrzymujemy gotowe dane, mo偶emy wykonywa zapytania do bazki od razu w kodzie komponentu co jest mega wygodne. Minus taki, 偶e nie mo偶ecie tutaj u偶ywa偶adnych hook贸w ani obsugiwaevent贸w, do tego spotrzebne Client Components.
  tl;dr;
  Kiedy u偶ywaRSC?
  Zawsze
  Kiedy u偶ywa Client Components?
  Wtedy kiedy nie mo偶ecie RSC (czyli potrzebujecie hook贸w itp)

  Dogebniej opisane to jest tutaj: https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns

- Jak dziaajaClient Components?

  Wbrew intuicji pocztkujcych one s te偶wykonywane po stronie serwera (https://github.com/reactwg/server-components/discussions/4) i serwer wysya gotowy html wraz z javascriptem, kt贸ry potem jest wykonywany po stronie klienta i nastpuje proces hydracji, czyli React "przejmuje" html, kt贸ry dosta i sam zaczyna go obsugiwa.

  Polecam bardzo opis z dokumentacji Nextjs, dobrze to opisali: https://nextjs.org/docs/app/building-your-application/rendering/client-components
