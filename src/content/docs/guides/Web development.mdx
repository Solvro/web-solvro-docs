---
title: Handbook Web Developera
description: Poradnik w Å›wiecie web developmentu, jak zaczÄ…Ä‡ iÂ Å¼yÄ‡?
---
import { FileTree } from '@astrojs/starlight/components';

## Åšrodowisko

### WSL

Za uÅ¼ywanie Windowsa do programowania jest wyrzucenie z koÅ‚a, kaÅ¼dy obowiÄ…zkowo ma uÅ¼ywaÄ‡Â co najmniej WSLâ€™a, a zalecany jest dual boot do Linuxa (rekomenduje ubuntu, bo proste)

- Tutorial dla opornych
  [https://www.youtube.com/watch?v=-atblwgc63E](https://www.youtube.com/watch?v=-atblwgc63E)

### Edytor

UÅ¼ywajcie VSCode, inne edytory na wÅ‚asnÄ…Â odpowiedzialnoÅ›Ä‡

OBOWIÄ„ZKOWE wtyczki:

- [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) - musicie go skonfigurowaÄ‡ do formatowania przy zapisie i jako domyÅ›lny formater
  [https://www.youtube.com/watch?v=drtxWx1XojI](https://www.youtube.com/watch?v=drtxWx1XojI)
- [Eslint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint) - bÄ™dzie krzyczaÅ‚ na was jak coÅ›Â Åºle zrobicie, tutaj wystarczy tylko kliknÄ…Ä‡ install

Polecane wtyczki:

- Tailwind CSS IntelliSense - podpowiedzi gdy piszecie klasy w tailwind, must have
- Better Comments - Å‚adne komentarze
- Error Lens - od razu wam pokaÅ¼e bÅ‚Ä™dy, nie trzeba myszkÄ… najeÅ¼dÅ¼aÄ‡
- Github Copilot - no chyba wiecie
- GitLens - Å‚adny git blame w vscode

## Struktura plikÃ³w

UÅ¼ywamy tej z [bulletproof-react](https://github.com/alan2207/bulletproof-react/blob/master/docs/project-structure.md), ale lekko przerobionej pod nasze potrzeby. Na start aplikacji polecam pominÄ…Ä‡ folder `features` i wszystko robiÄ‡ toplevel i dopiero pÃ³Åºniej podzieliÄ‡ na featury.

<FileTree>

- next.config.ts
- tailwind.config.ts
- package.json
- src
  - app # tutaj sÄ… nasze wszystkie strony
    - layout.tsx
    - page.tsx
  - assets # zdjÄ™cia, czcionki i inne rzeczy
    - fajne_foto.webp
  - components # komponenty uÅ¼ywane w caÅ‚ej aplikacji
    - first-components.tsx
    - second-component.tsx
  - features/ # moduÅ‚y podzielone na feature'y
  - hooks # hooki uÅ¼ywane w caÅ‚ej aplikacji
    - useAuth.tsx
    - usePlan.tsx
  - test/ # utilites do testÃ³w + mocki
  - types/ # typy uÅ¼ywane w caÅ‚ej aplikacji
  - utils # funkcje uÅ¼ywane w caÅ‚ej aplikacji
    - db.ts
    - lib.ts

</FileTree>

KaÅ¼dy feature ma takÄ…Â strukturÄ™:

<FileTree>

- src/features/awesome-feature
  - api/ # exported API request declarations and api hooks related to a specific feature
  - assets/ # static files
  - components/ # components scoped to a specific feature
  - hooks/ # hooks scoped to a specific feature
  - atoms/ # atomy uÅ¼ywane w konkretnym featuerze
  - types/ # typescript types used within the feature
  - utils/ # utility functions for a specific feature

</FileTree>

## Assumptions

Wszystko w programowaniu ma swoje mocne i sÅ‚aby strony i wszystko zaleÅ¼y od tego co chcemy osiÄ…gnÄ…Ä‡, ten poradnik jest zoptymalizowany pod (w kolejnoÅ›ci od najwaÅ¼niejszego):

1. SzybkoÅ›Ä‡ developmentu - pisanie kodu powinno byÄ‡ jak najprostsze i jak najszybsze, jesteÅ›my koÅ‚em naukowym, kaÅ¼dy robi tutaj po godzinach i nie mamy budÅ¼etu na marnowanie czasu na zbÄ™dne rzeczy
2. NowoczesnoÅ›Ä‡ - jak juÅ¼ robimy coÅ› za darmo, to miejmy z tego frajde, nie wiem jak wy, ja bym nie chciaÅ‚ pisaÄ‡ w angularze ğŸ˜­
3. UniwersalnoÅ›Ä‡ - nie ma tutaj specjalistycznych rzeczy, staraÅ‚em siÄ™, Å¼eby jak najbardziej daÅ‚o siÄ™Â przenosiÄ‡ wiedzÄ™ miÄ™dzy apkami

Pod co nie jest zrobiony ten guide:

1. DÅ‚ugowiecznoÅ›Ä‡ - wiÄ™kszoÅ›Ä‡ bibliotek tutaj uÅ¼ywanych potrafi bardzo szybko siÄ™Â zmieniaÄ‡ (patrz nextjs) i projekty, ktÃ³re nie bÄ™dÄ™Â dotykane przez rok bÄ™dzie moÅ¼na juÅ¼ nazywaÄ‡ legacy, aka [staÅ‚ocieplny software](https://blog.jim-nielsen.com/2024/cold-blooded-software/)
2. Learning curve - technologie takie jak React, NextJS sÄ… stosunkowo trudne do nauczania siÄ™Â dla osoby, ktÃ³ra nic nie wie, tutaj o wiele lepiej by siÄ™Â sprawdziÅ‚ czysty html i js

## Technologie

### Typescript

Nie widzÄ™ powodÃ³w, Å¼eby nie uÅ¼ywaÄ‡ Typescripta:

- Ma niski prÃ³g wejÅ›cia
- OLBRZYMIA wartoÅ›Ä‡ dla programisty
- UÅ¼ywany przez pÃ³Å‚ Å›wiata

### shadcn/ui

Komponenty, ktÃ³re z miejsca sÄ… Å‚adne, customizowalne i na dodatek multum ludzi ich uÅ¼ywa.

### React

Najpopularniejsza obecnie biblioteka (ktÃ³ra dziaÅ‚a jak framework) do tworzenia UI, klasyczek.

### Reszta:

- NextJS

- React Hook Form

- shadcn/ui

- Tanstack Query

- Jotai

- TailwindCSS

## Accessibility

Alt na fotkach

Przyciski a linki

## Best practices

### Jak zrobiÄ‡Â Å‚adne UI?

Wbrew przekonaniom, sprawa jest prosta:

1. ZnajdÅºÂ stronÄ™, ktÃ³rej design Ci siÄ™ podoba i pasuje do Twojego projektu, np. robisz apke z mapÄ…? google maps
2. Skopiuj design 1:1, uproÅ›Ä‡ i przerÃ³b go na komponenty shadcn
3. Gotowe, ciesz siÄ™Â Å‚adnym designem

W UI/UX nie ma miejsca na kreatywnoÅ›Ä‡ i jeÅ›li sami sprÃ³bujecie stworzyÄ‡ wÅ‚asny design na 99% skoÅ„czycie z czymÅ› dziwnym czego uÅ¼ytkownicy nie chcÄ… uÅ¼ywaÄ‡. Jak tylko moÅ¼ecie kradnijcie designy i dostosowujcie do swoich potrzeb, uÅ¼ytkownicy chcÄ… uÅ¼ywaÄ‡ stron, ktÃ³re juÅ¼ znajÄ… i nie da sieÂ sprawiÄ‡ by nie znali waszej stronÄ™Â jeÅ›li wyglÄ…da tak samo jak instagram ğŸ˜­

Poza tym, nie pisz wÅ‚asnych komponentÃ³w jeÅ›li nie masz BARDZO dobrego powodu, te z shadcnâ€™a sÄ…Â bardzo Å‚adne i jak tylko moÅ¼esz uÅ¼ywaj ich 1:1, wtedy na pewno nie zbÅ‚Ä…dzisz.

- Jak chcesz wiedzieÄ‡Â wiÄ™cej na ten temat zapraszam do poczytania Refactoring UI, ksiÄ…Å¼ka twÃ³rcÃ³w tailwinda, poradnik o designie dla programistÃ³w (wymagany dostÄ™p do dysku)
  [https://drive.google.com/file/d/1zbsgxcK-xREkmFV7D6Z1lHZwOn4k04w-/view?usp=drive_link](https://drive.google.com/file/d/1zbsgxcK-xREkmFV7D6Z1lHZwOn4k04w-/view?usp=drive_link)

### Pobieranie danych z API

Tutaj mamy dwie Å›cieÅ¼ki:

1. React Server Components

   React Server Components (RSC) to domyÅ›lne podejÅ›cie w Next.js 13+. DziÄ™ki nim dane sÄ… pobierane po stronie serwera, co eliminuje koniecznoÅ›Ä‡ zarzÄ…dzania stanami Å‚adowania i zapewnia szybsze Å‚adowanie stron. Zaletami jest automatyczne renderowanie danych na serwerze, brak koniecznoÅ›ci zarzÄ…dzania stanami Å‚adowania i sÄ… proste w uÅ¼yciu.

    ```jsx
    // app/products/page.tsx
    import { db } from '@/lib/db';

    export default async function ProductsPage() {
      // Pobieranie danych z bazy po stronie serwera
      const products = await db.products.findMany();

      return (
        <div>
          <h1>Produkty</h1>
          <ul>
            {products.map((product) => (
              <li key={product.id}>
                {product.name} - {product.price} PLN
              </li>
            ))}
          </ul>
        </div>
      );
    }
    ```

2. Tanstack Query

   Tego uÅ¼ywamy gdy chcemy mieÄ‡ wiÄ™kszÄ… kontrolÄ™ nad tym co siÄ™Â dzieje w naszej aplikacji, potrzebujemy odÅ›wieÅ¼aÄ‡Â czÄ™sto dane albo na przykÅ‚ad mamy jakÄ…Å› skomplikowanÄ… logikÄ™ po stronie klienta (typu uÅ¼ytkownik najpierw wybiera jakÄ…Å› zakÅ‚adkÄ™ i dopiero wtedy pobieramy coÅ›Â z api albo jakikolwiek case z bardziej zaawansowanym filtrowaniem)

    ```ts {2, 11}
    // actions/products.ts
    "use server"

    import { db } from '@/lib/db';

    /** 
     * PAMIÄ˜TAJCIE, Å¼e tego typu akcje serwerowe sÄ… automatycznie generowanymi
     * endpointami API, wiÄ™c kaÅ¼dy moÅ¼e przy odrobinie umiejÄ™tnoÅ›ci wykonaÄ‡ swoje rzÄ…danie do tej funkcji.
     * Trzeba zawsze zabezpieczyÄ‡ takÄ… funkcjÄ™, jeÅ›li robimy rzeczy tylko dla zalogowanych uÅ¼ytkownikÃ³w, np zmiana nazwy.
    */
    export async function fetchProducts() {
      return await db.products.findMany(); // PrzykÅ‚ad z bazÄ… danych
    }
    ```

    ```jsx {2, 11}
    // app/products/page.tsx
    "use client"

    import { useQuery } from '@tanstack/react-query';
    import { fetchProducts } from '@/actions/products.ts';

    export default function ProductsList() {
      const { data: products, isLoading, error, refetch } = useQuery({
        queryKey: ['products'],
        queryFn: fetchProducts,
        refetchOnMount: false, // zalezy od twoich potrzeb
      })

      if (isLoading) return <p>Åadowanie danych...</p>;
      if (error) return <p>WystÄ…piÅ‚ bÅ‚Ä…d podczas pobierania danych.</p>;

      return (
        <ul>
          {products.map((product) => (
            <li key={product.id}>
              {product.name} - {product.price} PLN
            </li>
          ))}
        </ul>
      );
    }
    ```


Do pobierania danych teÅ¼ potrzeba klienta API i tutaj mam zachÄ™cam do korzystania z natywnego `fetch` , a za uÅ¼ywanie `axios`a bez powodu bÄ™dÄ™ ucinaÅ‚ pensje, jest bardzo maÅ‚o powodÃ³w do uÅ¼ywania axiosa w 2024 roku.

### WysyÅ‚anie danych do API

Tutaj jestem opinionated i wedÅ‚ug mnie jedynym sÅ‚usznym wyborem jest Tanstack Query i jego mutacje, nie prÃ³bujcie tego robiÄ‡ inaczej, bo bÄ™dziecie sobie pluÄ‡ w brodÄ™ (albo ja wam)

### ZarzÄ…dzanie stanem

Do globalnego stanu uÅ¼ywamy [Jotai](https://jotai.org/), a do lokalnego useState/useReducer jak serio to jest coÅ›Â skomplikowanego

Nigdy Context API, chyba, Å¼e macie BARDZO dobry powÃ³d

### Formularze

Zapraszam do dokumentacji shadcnâ€™a, tam wiÄ™kszoÅ›Ä‡ jest dobrze opisana:

[https://ui.shadcn.com/docs/components/form](https://ui.shadcn.com/docs/components/form)

### Autentykacja

Nie mieliÅ›my jeszcze za duÅ¼o projektÃ³w, ktÃ³re by wymagaÅ‚y autentykacji, ale tutaj raczej zalecam iÅ›Ä‡ w klasykÄ™ i klepnÄ…Ä‡ to w [AuthJS](https://authjs.dev/). Jest to rozwijany od lat produkt, ktÃ³ry moÅ¼na 
w Å‚atwy sposÃ³b zintegrowaÄ‡ z projektem w NextJS. Zawiera duÅ¼y funkcji, takich jak logowanie OAuth2 czy magicznymi linkami, sesje bazujÄ…ce na bazie danych lub tokenach JWT czy automatycznÄ… ochronÄ™ przed CSRF.
Ma dobrze rozwiniÄ™tÄ… spoÅ‚ecznoÅ›Ä‡ i dokumentacjÄ™ oraz masÄ™ tutoriali na YouTubie.

Dodatkowo w ramach ciekawostki podrzucam Wam projekt dziaÅ‚ajÄ…cy pod nazwÄ… [BetterAuth](https://www.better-auth.com/). 
Jest to stosunkowo nowy projekt, ktÃ³ry w wersjÄ™ stabilnÄ… wszedÅ‚ w listopadzie 2024 roku, aczkolwiek jest dobrze przemyÅ›lany i aktywnie rozwijany.
Zalety tego projektu to miÄ™dzy innymi, jeszcze Å‚atwiejsza instalacja niÅ¼ AuthJS czy rozwiÄ…zanie pluginowe, np. jeÅ›li potrzebujecie uÅ¼yÄ‡ Passkeys to dodajecie taki plugin do configu.
Do tego bardzo prosta dokumentacja. Polecam siÄ™ zabawiÄ‡.

JeÅ›li robicie to DIY, to pewnie bÄ™dziecie musieli sobie odpowiedzieÄ‡ na pytanie gdzie trzymaÄ‡ tokeny i tutaj sÄ… dwie opcje:

- LocalStorage - protsza opcja, ale mniej bezpieczna i bardziej podatna na ataki XSS
- Cookies HttpOnly - bardziej bezpieczna opcja, ale trudniejsza w implementacji, Åºle zaimplementowane moÅ¼e prowadziÄ‡ do atakÃ³w CSRF

Na potrzeby Solvro cokolwiek wybierzecie bÄ™dzie dobrze, a jeÅ›li kogoÅ› temat bardziej interesuje to tutaj moÅ¼na sobie poczytaÄ‡:

- https://tkacz.pro/how-to-securely-store-jwt-tokens
- https://stackoverflow.com/questions/27067251/where-to-store-jwt-in-browser-how-to-protect-against-csrf

### Landing page

JeÅ›li jeszcze raz ktoÅ›Â zmarnuje czas na robienie wÅ‚asnego landing pageâ€™a to go uduszÄ™, tutaj macie dwie templatki i proszÄ™ z nich zrzynaÄ‡:

- [https://shadcn-landing-page.vercel.app](https://shadcn-landing-page.vercel.app/)
- [https://shadcn-landing-page-livid.vercel.app](https://shadcn-landing-page-livid.vercel.app/)

### Analityka

Do analityki mamy postawione [Umami](https://umami.is/) na [https://analytics.solvro.pl](https://analytics.solvro.pl), jak chcecie dostÄ™p to uderzajcie do ZarzÄ…du.

### WYSIWYG

Strasznie nie lubiÄ™Â tego tematu, bo tu jest milion wyborÃ³w i milion + 1 zÅ‚ych, obecnie rekomenduje:

[https://shadcn-minimal-tiptap.vercel.app/](https://shadcn-minimal-tiptap.vercel.app/)

### Tabelki

Do tworzenia bardziej zaawansowanych tabelek polecam [https://tanstack.com/table/latest](https://tanstack.com/table/latest). Jest doÅ›Ä‡ skomplikowany i ma wysoki prÃ³g wejÅ›cia, ale pozwoli wam na wszystko co sobie wymyÅ›licie.

Jako przykÅ‚ad polecam DataTable z shadcn'a:
[https://ui.shadcn.com/docs/components/data-table](https://ui.shadcn.com/docs/components/data-table)

JeÅ›li tabelka ma wiÄ™cej niÅ¼ 1000 wierszy to jest moment, Å¼eby przenieÅ›Ä‡ logikÄ™ filtrowania, paginacji i sortowania na backend, frontend przy takich iloÅ›ciach powoli moÅ¼e zaczÄ…Ä‡Â zamulaÄ‡. Przy 10k+ iloÅ›ci wierszy to jest must-have.

### Deployment

Tutaj zapraszam do korzystania z naszego coolifyâ€™a pod adresem [https://devops.solvro.pl/](https://devops.solvro.pl/), jak ktoÅ› chce dostÄ™py to pisaÄ‡ do ZarzÄ…du, raczej kaÅ¼dy dostaje ğŸ˜­

### a11y

Za wsadzanie linka w przycisk bÄ™dÄ™Â karaÅ‚ tygodniowÄ… chÅ‚ostÄ…, to nie jest poprawny html, sam react krzyczy, Å¼e nie moÅ¼na tak robiÄ‡ i czytniki ekranÃ³w siÄ™Â popierdolÄ… jak sprÃ³bujÄ… to przeczytaÄ‡

Jak zrobiÄ‡ Link, ktÃ³ry wyglÄ…da jak przycisk: [https://ui.shadcn.com/docs/components/button#as-child](https://ui.shadcn.com/docs/components/button#as-child)

### Daty

Do zabawy datami, strefami czasowymi, wyÅ›wietlania Å‚adnych napisÃ³w `10 sekund temu` zalecam uÅ¼ywanie [date-fns](https://date-fns.org/), imo najlepsza libka do dat i shadcn teÅ¼ jej uÅ¼ywa

## Checklista przed wypuszczeniem aplikacji

- [ ] Czy masz favicon?
- [ ] Czy masz ustawiony title i description na kaÅ¼dej stronie?
- [ ] Czy masz wpiÄ™tÄ… analitykÄ™ i eventy?

## CzÄ™ste bÅ‚Ä™dy

### UÅ¼ywanie useEffect tam gdzie nie trzeba

useEffect sÅ‚uÅ¼y do synchronizowania stanu z zewnÄ™trznym systemem (ref. dokumentacja reacta), jeÅ›li w useEffecie nie macie odwoÅ‚ania do zewnÄ™trznego systemu (localStorage, api serwera, inne api przeglÄ…darki) to znaczy, Å¼e go Åºle uÅ¼yliÅ›cie, przykÅ‚adowy zÅ‚y kod:

```jsx
function handleMuscleClick(muscle: string) {
  setSelectedMuscles((prevSelectedMuscles) => {
    if (prevSelectedMuscles.includes(muscle)) {
      return prevSelectedMuscles.filter((m) => m !== muscle);
    } else {
      return [...prevSelectedMuscles, muscle];
    }
  });
}

useEffect(() => {
  table.getColumn("targetMuscle")?.setFilterValue(selectedMuscles);
}, [selectedMuscles, table]);
```

Tutaj synchronizujemy `selectedMuscles` z filtrowana wartoÅ›cia z tabelce, tabelka Å¼yje w Å›wiecie reacta i nie jest zewnÄ™trznym systemem i rÃ³wnie dobrze moÅ¼emy to zrobiÄ‡ w ten sposÃ³b:

```jsx
function handleMuscleClick(muscle: string) {
  const newSelectedMuscles = selectedMuscles.includes(muscle)
    ? prevSelectedMuscles.filter((m) => m !== muscle)
    : [...prevSelectedMuscles, muscle];

  table.getColumn("targetMuscle")?.setFilterValue(newSelectedMuscles);
  setSelectedMuscles(newSelectedMuscles);
}
```

Teraz jest bardzo jasne, Å¼e po klikniÄ™ciu na miÄ™sieÅ„, zostaje teÅ¼ zupdateâ€™owana tabelka.

Ten przykÅ‚ad jeszcze nie jest taki zÅ‚y, przy 1 useEffectcie doÅ›Ä‡ Å‚atwo siÄ™Â poÅ‚apaÄ‡ co siÄ™ dzieje, przy 11 robi siÄ™Â juÅ¼ kÅ‚opot i raz u mnie w pracy przez coÅ›Â takiego padÅ‚a produkcja ğŸ˜­

## FAQ

- Co to Server Components i po co ich uÅ¼ywaÄ‡?

  RSC (React Server Components) to komponenty, ktÃ³rych kodzik jest wykonywany WYÅÄ„CZNIE po stronie serwera i ani gram javascriptu nie idzie do przeglÄ…darki, to sÄ…Â obecnie domyÅ›lne komponenty w Nextjs 13-15. UÅ‚atwiajÄ…Â pobieranie danych z serwera, bo nie trzeba np. wyÅ›wietlaÄ‡ stanu loadingu, od razu otrzymujemy gotowe dane, moÅ¼emy wykonywaÄ‡ zapytania do bazki od razu w kodzie komponentu co jest mega wygodne. Minus taki, Å¼e nie moÅ¼ecie tutaj uÅ¼ywaÄ‡Â Å¼adnych hookÃ³w ani obsÅ‚ugiwaÄ‡Â eventÃ³w, do tego sÄ…Â potrzebne Client Components.
  tl;dr;
  Kiedy uÅ¼ywaÄ‡Â RSC?
  Zawsze
  Kiedy uÅ¼ywaÄ‡ Client Components?
  Wtedy kiedy nie moÅ¼ecie RSC (czyli potrzebujecie hookÃ³w itp)

  DogÅ‚ebniej opisane to jest tutaj: https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns

- Jak dziaÅ‚ajaÂ Client Components?

  Wbrew intuicji poczÄ…tkujÄ…cych one sÄ… teÅ¼Â wykonywane po stronie serwera (https://github.com/reactwg/server-components/discussions/4) i serwer wysyÅ‚a gotowy html wraz z javascriptem, ktÃ³ry potem jest wykonywany po stronie klienta i nastÄ™puje proces hydracji, czyli React "przejmuje" html, ktÃ³ry dostaÅ‚ i sam zaczyna go obsÅ‚ugiwaÄ‡.

  Polecam bardzo opis z dokumentacji Nextjs, dobrze to opisali: https://nextjs.org/docs/app/building-your-application/rendering/client-components
