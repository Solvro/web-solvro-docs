---
title: Best practices
sidebar:
  order: 4
description: Najlepsze praktyki w tworzeniu aplikacji webowych.
---

import { Tabs, TabItem } from "@astrojs/starlight/components";

## Jak zrobiÄ‡ Å‚adne UI?

Wbrew przekonaniom, sprawa jest prosta:

1. ZnajdÅº stronÄ™, ktÃ³rej design Ci siÄ™ podoba i pasuje do Twojego projektu, np. robisz apke z mapÄ…? google maps
2. Skopiuj design 1:1, uproÅ›Ä‡ i przerÃ³b go na komponenty shadcn
3. Gotowe, ciesz siÄ™ Å‚adnym designem

W UI/UX nie ma miejsca na kreatywnoÅ›Ä‡ i jeÅ›li sami sprÃ³bujecie stworzyÄ‡ wÅ‚asny design na 99% skoÅ„czycie z czymÅ› dziwnym czego uÅ¼ytkownicy nie chcÄ… uÅ¼ywaÄ‡. Jak tylko moÅ¼ecie kradnijcie designy i dostosowujcie do swoich potrzeb, uÅ¼ytkownicy chcÄ… uÅ¼ywaÄ‡ stron, ktÃ³re juÅ¼ znajÄ… i nie da sie sprawiÄ‡ by nie znali waszej stronÄ™ jeÅ›li wyglÄ…da tak samo jak instagram ğŸ˜­

Poza tym, nie pisz wÅ‚asnych komponentÃ³w jeÅ›li nie masz BARDZO dobrego powodu, te z shadcnâ€™a sÄ… bardzo Å‚adne i jak tylko moÅ¼esz uÅ¼ywaj ich 1:1, wtedy na pewno nie zbÅ‚Ä…dzisz.

- Jak chcesz wiedzieÄ‡ wiÄ™cej na ten temat zapraszam do poczytania Refactoring UI, ksiÄ…Å¼ka twÃ³rcÃ³w tailwinda, poradnik o designie dla programistÃ³w (wymagany dostÄ™p do dysku)
  [https://drive.google.com/file/d/1zbsgxcK-xREkmFV7D6Z1lHZwOn4k04w-/view?usp=drive_link](https://drive.google.com/file/d/1zbsgxcK-xREkmFV7D6Z1lHZwOn4k04w-/view?usp=drive_link)

## Pobieranie danych z API

Tutaj mamy dwie Å›cieÅ¼ki:

1.  React Server Components

    React Server Components (RSC) to domyÅ›lne podejÅ›cie w Next.js 14+. DziÄ™ki nim dane sÄ… pobierane po stronie serwera, co eliminuje koniecznoÅ›Ä‡ zarzÄ…dzania stanami Å‚adowania i zapewnia szybsze Å‚adowanie stron. Zaletami jest automatyczne renderowanie danych na serwerze, brak koniecznoÅ›ci zarzÄ…dzania stanami Å‚adowania i sÄ… proste w uÅ¼yciu.

    ```jsx {5-6}
    // app/products/page.tsx

    export default async function ProductsPage() {
      // Pobieranie danych z API po stronie serwera
      const data = await fetch("https://api.example.com/data");
      const products = await data.json();

      return (
        <div>
          <h1>Produkty</h1>
          <ul>
            {products.map((product) => (
              <li key={product.id}>
                {product.name} - {product.price} PLN
              </li>
            ))}
          </ul>
        </div>
      );
    }
    ```

2.  Tanstack Query

        Tego uÅ¼ywamy gdy chcemy mieÄ‡ wiÄ™kszÄ… kontrolÄ™ nad tym co siÄ™ dzieje w naszej aplikacji, potrzebujemy odÅ›wieÅ¼aÄ‡ czÄ™sto dane albo na przykÅ‚ad mamy jakÄ…Å› skomplikowanÄ… logikÄ™ po stronie klienta (typu uÅ¼ytkownik najpierw wybiera jakÄ…Å› zakÅ‚adkÄ™ i dopiero wtedy pobieramy coÅ› z api albo jakikolwiek case z bardziej zaawansowanym filtrowaniem)

        <Tabs>
          <TabItem label="ZewnÄ™trzne API">
            ```jsx {2, 15-16}
            // app/products/page.tsx
            "use client";

            import { useQuery } from "@tanstack/react-query";

            export default function ProductsList() {
              const {
                data: products,
                isLoading,
                error,
                refetch,
              } = useQuery({
                queryKey: ["products"],
                queryFn: async () => {
                  const data = await fetch("https://api.example.com/data");
                  const products = await data.json();
                  return products;
                },
              });

              if (isLoading) return <p>Åadowanie danych...</p>;
              if (error) return <p>WystÄ…piÅ‚ bÅ‚Ä…d podczas pobierania danych.</p>;

              return (
                <ul>
                  {products.map((product) => (
                    <li key={product.id}>
                      {product.name} - {product.price} PLN
                    </li>
                  ))}
                </ul>
              );
            }
            ```
          </TabItem>
          <TabItem label="Server Actions (NextJS)">
          ```ts {2, 11}
          // actions/products.ts
          "use server";

          import { db } from "@/lib/db";
          /**
            * PAMIÄ˜TAJCIE, Å¼e tego typu akcje serwerowe sÄ… automatycznie generowanymi
          * endpointami API, wiÄ™c kaÅ¼dy moÅ¼e przy odrobinie umiejÄ™tnoÅ›ci wykonaÄ‡ swoje rzÄ…danie do tej funkcji.
          * Trzeba zawsze zabezpieczyÄ‡ takÄ… funkcjÄ™, jeÅ›li robimy rzeczy tylko dla zalogowanych uÅ¼ytkownikÃ³w, np zmiana nazwy.
          */
          export async function fetchProducts() {
            return await db.products.findMany(); // PrzykÅ‚ad z bazÄ… danych
          }
          ```

          ```jsx {2, 10}
          // app/products/page.tsx
          "use client";

          import { useQuery } from "@tanstack/react-query";
          import { fetchProducts } from "@/actions/products.ts";

          export default function ProductsList() {
            const {
              data: products,
              isLoading,
              error,
              refetch,
            } = useQuery({
              queryKey: ["products"],
              queryFn: fetchProducts,
            });

            if (isLoading) return <p>Åadowanie danych...</p>;
            if (error) return <p>WystÄ…piÅ‚ bÅ‚Ä…d podczas pobierania danych.</p>;

            return (
              <ul>
                {products.map((product) => (
                  <li key={product.id}>
                    {product.name} - {product.price} PLN
                  </li>
                ))}
              </ul>
            );
          }
          ```

          </TabItem>
        </Tabs>

Do pobierania danych teÅ¼ potrzeba klienta API i tutaj mam zachÄ™cam do korzystania z natywnego `fetch` , a za uÅ¼ywanie `axios`a bez powodu bÄ™dÄ™ ucinaÅ‚ pensje, jest bardzo maÅ‚o powodÃ³w do uÅ¼ywania axiosa w 2024 roku.

## WysyÅ‚anie danych do API

Tutaj jestem opinionated i wedÅ‚ug mnie jedynym sÅ‚usznym wyborem jest Tanstack Query i jego mutacje, nie prÃ³bujcie tego robiÄ‡ inaczej, bo bÄ™dziecie sobie pluÄ‡ w brodÄ™

## ZarzÄ…dzanie stanem

Do globalnego stanu uÅ¼ywamy [Jotai](https://jotai.org/), a do lokalnego useState/useReducer jak serio to jest coÅ› skomplikowanego

Nigdy Context API, chyba, Å¼e macie BARDZO dobry powÃ³d

## Nazwane i domyÅ›lne exporty

UmÃ³wiliÅ›my siÄ™ co do jednej konwencji pisania stron i komponentÃ³w. Zawsze uÅ¼ywamy nazwanych eksportÃ³w.

```jsx
// app/products/components/ProductList.tsx

// âœ…
export function ProductList() {
  return <div>Lista produktÃ³w</div>;
}

// âœ…
export const formatDate = (date: Date) => {
  return date.toLocaleDateString();
};

// âŒ
export default function ProductList() {
  return <div>Lista produktÃ³w</div>;
}

// âŒ
const formatDate = (date: Date) => {
  return date.toLocaleDateString();
};
export default formatDate;
```

Default eksportÃ³w uÅ¼ywamy tylko na stronach typu `page.tsx`, bo NextJS tego wymaga:

```jsx
// app/products/page.tsx

// âœ…
export default function ProductsPage() {
  return <div>Produkty</div>;
}
```

:::note
Podrzucam linki do stackoverflow, gdzie jest to Å‚adnie opisane:

- [https://stackoverflow.com/a/68665805](https://stackoverflow.com/a/68665805)
- [https://stackoverflow.com/a/58103685](https://stackoverflow.com/a/58103685)
  :::

## Formularze

Zapraszam do dokumentacji shadcnâ€™a, tam wiÄ™kszoÅ›Ä‡ jest dobrze opisana:

[https://ui.shadcn.com/docs/components/form](https://ui.shadcn.com/docs/components/form)

## Autentykacja

Nie mieliÅ›my jeszcze za duÅ¼o projektÃ³w, ktÃ³re by wymagaÅ‚y autentykacji, ale tutaj raczej zalecam iÅ›Ä‡ w klasykÄ™ i klepnÄ…Ä‡ to w [AuthJS](https://authjs.dev/). Jest to rozwijany od lat produkt, ktÃ³ry moÅ¼na
w Å‚atwy sposÃ³b zintegrowaÄ‡ z projektem w NextJS. Zawiera duÅ¼y funkcji, takich jak logowanie OAuth2 czy magicznymi linkami, sesje bazujÄ…ce na bazie danych lub tokenach JWT czy automatycznÄ… ochronÄ™ przed CSRF.
Ma dobrze rozwiniÄ™tÄ… spoÅ‚ecznoÅ›Ä‡ i dokumentacjÄ™ oraz masÄ™ tutoriali na YouTubie.

Dodatkowo w ramach ciekawostki podrzucam Wam projekt dziaÅ‚ajÄ…cy pod nazwÄ… [BetterAuth](https://www.better-auth.com/).
Jest to stosunkowo nowy projekt, ktÃ³ry w wersjÄ™ stabilnÄ… wszedÅ‚ w listopadzie 2024 roku, aczkolwiek jest dobrze przemyÅ›lany i aktywnie rozwijany.
Zalety tego projektu to miÄ™dzy innymi, jeszcze Å‚atwiejsza instalacja niÅ¼ AuthJS czy rozwiÄ…zanie pluginowe, np. jeÅ›li potrzebujecie uÅ¼yÄ‡ Passkeys to dodajecie taki plugin do configu.
Do tego bardzo prosta dokumentacja. Polecam siÄ™ zabawiÄ‡.

JeÅ›li robicie to DIY, to pewnie bÄ™dziecie musieli sobie odpowiedzieÄ‡ na pytanie gdzie trzymaÄ‡ tokeny i tutaj sÄ… dwie opcje:

- LocalStorage - protsza opcja, ale mniej bezpieczna i bardziej podatna na ataki XSS
- Cookies HttpOnly - bardziej bezpieczna opcja, ale trudniejsza w implementacji, Åºle zaimplementowane moÅ¼e prowadziÄ‡ do atakÃ³w CSRF

Na potrzeby Solvro cokolwiek wybierzecie bÄ™dzie dobrze, a jeÅ›li kogoÅ› temat bardziej interesuje to tutaj moÅ¼na sobie poczytaÄ‡:

- https://tkacz.pro/how-to-securely-store-jwt-tokens
- https://stackoverflow.com/questions/27067251/where-to-store-jwt-in-browser-how-to-protect-against-csrf

## Landing page

JeÅ›li jeszcze raz ktoÅ› zmarnuje czas na robienie wÅ‚asnego landing pageâ€™a to go uduszÄ™, tutaj macie dwie templatki i proszÄ™ z nich zrzynaÄ‡:

- [https://shadcn-landing-page.vercel.app](https://shadcn-landing-page.vercel.app/)
- [https://shadcn-landing-page-livid.vercel.app](https://shadcn-landing-page-livid.vercel.app/)

## Analityka

Do analityki mamy postawione [Umami](https://umami.is/) na [https://analytics.solvro.pl](https://analytics.solvro.pl), jak chcecie dostÄ™p to uderzajcie do ZarzÄ…du.

## WYSIWYG

Strasznie nie lubiÄ™ tego tematu, bo tu jest milion wyborÃ³w i milion + 1 zÅ‚ych, obecnie rekomenduje:

[https://shadcn-minimal-tiptap.vercel.app/](https://shadcn-minimal-tiptap.vercel.app/)

## Tabelki

Do tworzenia bardziej zaawansowanych tabelek polecam [https://tanstack.com/table/latest](https://tanstack.com/table/latest). Jest doÅ›Ä‡ skomplikowany i ma wysoki prÃ³g wejÅ›cia, ale pozwoli wam na wszystko co sobie wymyÅ›licie.

Jako przykÅ‚ad polecam DataTable z shadcn'a:
[https://ui.shadcn.com/docs/components/data-table](https://ui.shadcn.com/docs/components/data-table)

JeÅ›li tabelka ma wiÄ™cej niÅ¼ 1000 wierszy to jest moment, Å¼eby przenieÅ›Ä‡ logikÄ™ filtrowania, paginacji i sortowania na backend, frontend przy takich iloÅ›ciach powoli moÅ¼e zaczÄ…Ä‡ zamulaÄ‡. Przy 10k+ iloÅ›ci wierszy to jest must-have.

## Deployment

Tutaj zapraszam do korzystania z naszego coolifyâ€™a pod adresem [https://devops.solvro.pl/](https://devops.solvro.pl/), jak ktoÅ› chce dostÄ™py to pisaÄ‡ do ZarzÄ…du, raczej kaÅ¼dy dostaje ğŸ˜­

## a11y

Za wsadzanie linka w przycisk bÄ™dÄ™ karaÅ‚ tygodniowÄ… chÅ‚ostÄ…, to nie jest poprawny html, sam react krzyczy, Å¼e nie moÅ¼na tak robiÄ‡ i czytniki ekranÃ³w siÄ™ zepsujÄ… jak sprÃ³bujÄ… to przeczytaÄ‡

WiÄ™cej na ten temat znajdziesz [tutaj](/guides/web-development/accessibility/#przyciski-jako-linki)
